{
  "metadata": {
    "version": "1.0.0",
    "last_updated": "2024-08-12",
    "description": "Config for deployment, rollback, and release management processes, including customer details and transfer rules."
  },
  "customer": {
    "customer_uid": "c12345-abcde-67890-fghij",
    "name": "Corporater",
    "contact": {
      "name": "Test",
      "email": "test@coporater.com",
      "phone": "9999999"
    },
    "address": {
      "street": "gateaddresse",
      "city": "Stavanger",
      "state": "",
      "zip": "4444",
      "country": "NO"
    },
    "description": "Corporater beskrivelse"
  },
  "setup": {
    "version": "1.0.0",
    "common": {
      "base_url": "https://innovation.corporater.dev"
    },
    "hosts": [
      {
        "id": "host1",
        "uid": "f3a5b76e-1c4d-4f19-8d2b-1a3c33e73f1b",
        "name": "Newfeaturemaster",
        "url": "/newfeaturemaster",
        "stage": "dev",
        "authentication": {
          "method": "basic",
          "credentials": {
            "username": "user1",
            "password": "password1"
          }
        },
        "description": "Development environment where new features are developed and initially tested."
      },
      {
        "id": "host2",
        "uid": "b2c6a7e1-6cd5-4c88-a8f1-89f7cbb8f8c5",
        "name": "Deployment",
        "url": "/deployment",
        "stage": "qa",
        "authentication": {
          "method": "token",
          "credentials": {
            "token": "abc123token"
          }
        },
        "description": "QA environment for thorough testing of features before production deployment."
      },
      {
        "id": "host3",
        "uid": "e4d7c72a-9e7a-4f99-bb91-f5c8d9b8b715",
        "name": "Production",
        "url": "/basic",
        "stage": "prod",
        "authentication": {
          "method": "none"
        },
        "description": "Production environment where features are live and available to end-users."
      }
    ],
    "default_source": {
      "id": "host1",
      "name": "Newfeaturemaster",
      "url": "/newfeaturemaster"
    },
    "default_destination": {
      "id": "host2",
      "name": "Deployment",
      "url": "/deployment"
    },
    "transfer_rules": {
      "allowed_transfers": [
        {
          "source": "dev",
          "destination": "qa",
          "description": "Transfer from Development to QA for further testing."
        },
        {
          "source": "qa",
          "destination": "prod",
          "description": "Transfer from QA to Production for live deployment."
        },
        {
          "source": "prod",
          "destination": "dev",
          "description": "Roll back from Production to Development for addressing issues."
        }
      ],
      "disallowed_transfers": [
        {
          "source": "dev",
          "destination": "prod",
          "description": "Direct transfer from Development to Production is not allowed to maintain stability."
        },
        {
          "source": "prod",
          "destination": "qa",
          "description": "Direct transfer from Production to QA is not allowed to prevent overwriting QA data."
        },
        {
          "source": "qa",
          "destination": "dev",
          "description": "Direct transfer from QA to Development is not allowed to maintain data integrity."
        }
      ],
      "rollback_rules": {
        "allowed_rollbacks": [
          {
            "source": "qa",
            "destination": "dev",
            "description": "Rollback from QA to Development to address testing feedback."
          },
          {
            "source": "prod",
            "destination": "qa",
            "description": "Rollback from Production to QA to fix issues identified in the live environment."
          }
        ],
        "disallowed_rollbacks": [
          {
            "source": "prod",
            "destination": "dev",
            "description": "Rollback from Production to Development is not allowed to prevent data inconsistency."
          }
        ]
      }
    },
    "transfer_settings": {
      "protocol": "undecided",
      "compression": "gzip",
      "encryption": {
        "enabled": true,
        "method": "AES-256"
      },
      "retries": 3,
      "timeout": 120,
      "pre_transfer_validation": {
        "enabled": false,
        "script": "pre_transfer_validation"
      },
      "post_transfer_verification": {
        "enabled": false,
        "script": "post_transfer_verification"
      }
    },
    "logging": {
      "dev": {
        "level": "DEBUG",
        "destination": "server",
        "file_path": "dev_transfer.log"
      },
      "qa": {
        "level": "INFO",
        "destination": "server",
        "file_path": "qa_transfer.log"
      },
      "prod": {
        "level": "ERROR",
        "destination": "server",
        "file_path": "prod_transfer.log",
        "rotation_policy": {
          "enabled": false,
          "max_size": "50MB",
          "max_age": "30d"
        }
      }
    },
    "notification": {
      "enabled": false,
      "method": {
        "on_success": "email",
        "on_failure": "sms"
      },
      "recipients": {
        "dev": [
          "devteam@corporater.com"
        ],
        "qa": [
          "qatest@corporater.com"
        ],
        "prod": [
          "prod@corporater.com",
          "test@corporater.com"
        ]
      },
      "on_success": false,
      "on_failure": false
    },
    "process_descriptions": [
      {
        "id": "process1",
        "name": "Development to QA",
        "description": "This step involves transferring data from the Development environment to the QA environment. Pre-transfer validation is performed using a script to ensure data integrity before initiating the transfer. In QA, features undergo rigorous testing including functional, integration, and system testing to ensure quality standards before moving to production.",
        "type": "forward",
        "related_processes": [
          {
            "id": "process4",
            "name": "QA to Development",
            "description": "Rollback from QA to Development to address any issues identified during QA testing.",
            "type": "rollback"
          }
        ]
      },
      {
        "id": "process2",
        "name": "QA to Production",
        "description": "Once features have passed all QA tests and post-transfer verification confirms data integrity, they are transferred to the Production environment. This step is critical as the features become live for end-users. Any issues detected in production can be rolled back to QA for resolution.",
        "type": "forward",
        "related_processes": [
          {
            "id": "process5",
            "name": "Production to QA",
            "description": "Rollback from Production to QA to resolve any issues detected in the live environment.",
            "type": "rollback"
          }
        ]
      },
      {
        "id": "process3",
        "name": "Production to Development",
        "description": "In case features need revision based on production feedback, they are transferred back to Development. This ensures that any issues or required enhancements are addressed in a controlled environment before potentially redeploying to QA or Production. Post-transfer verification ensures data consistency.",
        "type": "forward",
        "related_processes": [
          {
            "id": "process6",
            "name": "Development to Production",
            "description": "Rollback from Development to Production is not permitted to prevent data inconsistencies.",
            "type": "rollback"
          }
        ]
      },
      {
        "id": "process4",
        "name": "QA to Development",
        "description": "Rollback from QA to Development to address any issues identified during QA testing.",
        "type": "rollback"
      },
      {
        "id": "process5",
        "name": "Production to QA",
        "description": "Rollback from Production to QA to resolve any issues detected in the live environment.",
        "type": "rollback"
      },
      {
        "id": "process6",
        "name": "Development to Production",
        "description": "Rollback from Development to Production is not permitted to prevent data inconsistencies.",
        "type": "rollback"
      }
    ],
    "release_management": {
      "release_stages": [
        {
          "stage": "development",
          "description": "Initial stage where new features and fixes are developed and unit tested."
        },
        {
          "stage": "qa",
          "description": "QA stage for comprehensive testing including functional, integration, and system testing."
        },
        {
          "stage": "pre-production",
          "description": "Optional stage for final testing in an environment closely resembling production."
        },
        {
          "stage": "production",
          "description": "Live environment where the final, tested product is deployed for end-users."
        }
      ],
      "versioning": {
        "strategy": "semantic",
        "format": "MAJOR.MINOR.PATCH",
        "example": "1.2.3",
        "description": "Versioning strategy follows semantic versioning where increments in major, minor, or patch versions correspond to backward-incompatible changes, new features, and bug fixes respectively."
      },
      "rollback_policies": {
        "development": {
          "allowed": true,
          "description": "Rollbacks allowed from Development to previous versions."
        },
        "qa": {
          "allowed": true,
          "description": "Rollbacks allowed from QA to Development."
        },
        "pre-production": {
          "allowed": false,
          "description": "Rollbacks are generally not allowed at this stage to ensure consistency with production."
        },
        "production": {
          "allowed": true,
          "description": "Rollbacks allowed from Production to QA or Development in case of critical issues."
        }
      },
      "changelog": {
        "enabled": true,
        "path": "changelog.md",
        "format": "markdown",
        "description": "Changelog records all significant changes including new features, enhancements, and bug fixes across all environments. It follows a clear format to track the progression of changes throughout the release stages."
      }
    }
  }
}